#!/bin/bash
source libs/main

#================================================================
#	Тесты предназначены для запуска на удаленной машине
#	для из запуска на удаленной машине необходима фенкция
#	из библиотеки test_lib - on_server
#   сотвественно для запуска тестов необходимо предварительно
#   установить пакет квас на удаленной машине (роутере)
#================================================================

cd "./module/" || exit 1

header "ПРОВЕРКА НАЛИЧИЯ ОСНОВНЫХ ФАЙЛОВ ИЗ БИБЛИОТЕКИ КВАСА"
./start.bats
echo

header "ПРОВЕРКА РАБОТЫ БЛОКА VPN ПРАВИЛ КВАСа"
./vpn_ipv6.bats
echo

header "ПРОВЕРКА РАБОТЫ ФУНКЦИЙ ИЗ ОБЩЕЙ БИБЛИОТЕКИ КВАСА"
./func.bats
echo

header "ПРОВЕРКА РАБОТЫ ФУНКЦИЙ ОПРЕДЕЛЕНИЯ АДРЕСОВ И ДОМЕННЫХ ИМЕН"
./hosts.bats
echo

header "ПРОВЕРКА РАБОТЫ БЛОКА БЛОКИРОВКИ РЕКЛАМЫ"
./adblock.bats
echo

header "ПРОВЕРКА РАБОТЫ БЛОКА ОБНОВЛЕНИЯ ПРАВИЛ КВАСа"
./cron.bats
echo

header "ПРОВЕРКА РАБОТЫ БЛОКА ADGUARD"
./adguard.bats
echo
