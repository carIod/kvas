#!/bin/bash
source libs/main

#================================================================
#	Тесты предназначены для запуска на удаленной машине
#	для из запуска на удаленной машине необходима функция
#	из библиотеки test_lib - on_server
#   соответственно для запуска тестов необходимо предварительно
#   установить пакет квас на удаленной машине (роутере)
#================================================================

cd "./module/" || exit 1

run_test "ПРОВЕРКА НАЛИЧИЯ ОСНОВНЫХ ФАЙЛОВ ИЗ БИБЛИОТЕКИ КВАСА" ./start.bats
run_test "ПРОВЕРКА РАБОТЫ БЛОКА VPN ПРАВИЛ КВАСа" ./vpn_ipv6.bats
run_test "ПРОВЕРКА РАБОТЫ ФУНКЦИЙ ИЗ ОБЩЕЙ БИБЛИОТЕКИ КВАСА" ./func.bats
run_test "ПРОВЕРКА РАБОТЫ ФУНКЦИЙ ОПРЕДЕЛЕНИЯ АДРЕСОВ И ДОМЕННЫХ ИМЕН" ./hosts.bats
run_test "ПРОВЕРКА РАБОТЫ БЛОКА БЛОКИРОВКИ РЕКЛАМЫ" ./adblock.bats
run_test "ПРОВЕРКА РАБОТЫ БЛОКА ОБНОВЛЕНИЯ ПРАВИЛ КВАСа" ./cron.bats
run_test "ПРОВЕРКА РАБОТЫ БЛОКА ADGUARD" ./adguard.bats

